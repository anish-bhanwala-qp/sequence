!function(e){var t={};function a(u){if(t[u])return t[u].exports;var l=t[u]={i:u,l:!1,exports:{}};return e[u].call(l.exports,l,l.exports,a),l.l=!0,l.exports}a.m=e,a.c=t,a.d=function(e,t,u){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:u})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var u=Object.create(null);if(a.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)a.d(u,l,function(t){return e[t]}.bind(null,l));return u},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=10)}([function(e,t,a){"use strict";var u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(a(3)),d=u(a(4)),f=function(){function e(e,t){this.rank=e,this.suit=t}return e.prototype.isTwoEyedJack=function(){return this.suit===d.default.DIAMOND&&this.rank===l.default.JACK||this.suit===d.default.CLUB&&this.rank===l.default.JACK},e.prototype.isOneEyedJack=function(){return this.suit===d.default.SPADE&&this.rank===l.default.JACK||this.suit===d.default.HEART&&this.rank===l.default.JACK},e.prototype.matches=function(e){return null!=e&&(e.suit===this.suit&&e.rank===this.rank)},e.prototype.toString=function(){return"Rank: "+l.default[this.rank]+", Suit: "+d.default[this.suit]},e.prototype.clone=function(){return new e(this.rank,this.suit)},e.prototype.rankDisplay=function(){return this.rank===l.default.ACE?"A":this.rank===l.default.JACK?"J":this.rank===l.default.QUEEN?"Q":this.rank===l.default.KING?"K":this.rank},e.prototype.suitDisplay=function(){switch(this.suit){case d.default.SPADE:return"♠";case d.default.HEART:return"♥";case d.default.DIAMOND:return"♦";case d.default.CLUB:return"♣";default:throw new Error("Invalid suit: "+d.default[this.suit])}},e.prototype.suitColor=function(){switch(this.suit){case d.default.SPADE:case d.default.CLUB:return"#000";case d.default.HEART:case d.default.DIAMOND:return"red";default:throw new Error("Invalid suit: "+d.default[this.suit])}},e.prototype.getDisplayHtml=function(){return this.rankDisplay()+' <span style="color: '+this.suitColor()+'">'+this.suitDisplay()+"</span>"},e}();t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){if(e<0||e>9)throw Error("Invalid row number: "+e);if(t<0||t>9)throw Error("Invalid column number: "+t);this.row=e,this.col=t}return e.prototype.toString=function(){return"row: "+this.row+", col: "+this.col},e}();t.default=u},function(e,t,a){"use strict";var u;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.PLACE_CHIP=0]="PLACE_CHIP",e[e.REPLACE_DEAD_CARD=1]="REPLACE_DEAD_CARD",e[e.REMOVE_CHIP=2]="REMOVE_CHIP"}(u||(u={})),t.default=u},function(e,t,a){"use strict";var u;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ACE=1]="ACE",e[e.TWO=2]="TWO",e[e.THREE=3]="THREE",e[e.FOUR=4]="FOUR",e[e.FIVE=5]="FIVE",e[e.SIX=6]="SIX",e[e.SEVEN=7]="SEVEN",e[e.EIGHT=8]="EIGHT",e[e.NINE=9]="NINE",e[e.TEN=10]="TEN",e[e.JACK=11]="JACK",e[e.QUEEN=12]="QUEEN",e[e.KING=13]="KING"}(u||(u={})),t.default=u},function(e,t,a){"use strict";var u;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.SPADE=0]="SPADE",e[e.CLUB=1]="CLUB",e[e.DIAMOND=2]="DIAMOND",e[e.HEART=3]="HEART"}(u||(u={})),t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){void 0===t&&(t=!1),this.color=e,this.inSequence=t}return e.prototype.markInSequence=function(){this.inSequence=!0},e.prototype.clone=function(){return new e(this.color,this.inSequence)},e.prototype.isInSequence=function(){return this.inSequence},e}();t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e,t,a){this.type=e,this.card=t,this.position=a};t.default=u},function(e,t,a){"use strict";var u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(a(0)),d=u(a(4)),f=u(a(3)),n=function(){function e(){this.cards=[],this.discardedCards=[],this.addOneDeck(),this.addOneDeck()}return e.prototype.addOneDeck=function(){this.addCardsForSuit(d.default.CLUB),this.addCardsForSuit(d.default.DIAMOND),this.addCardsForSuit(d.default.HEART),this.addCardsForSuit(d.default.SPADE)},e.prototype.addCardsForSuit=function(e){this.cards.push(new l.default(f.default.ACE,e)),this.cards.push(new l.default(f.default.TWO,e)),this.cards.push(new l.default(f.default.THREE,e)),this.cards.push(new l.default(f.default.FOUR,e)),this.cards.push(new l.default(f.default.FIVE,e)),this.cards.push(new l.default(f.default.SIX,e)),this.cards.push(new l.default(f.default.SEVEN,e)),this.cards.push(new l.default(f.default.EIGHT,e)),this.cards.push(new l.default(f.default.NINE,e)),this.cards.push(new l.default(f.default.TEN,e)),this.cards.push(new l.default(f.default.JACK,e)),this.cards.push(new l.default(f.default.QUEEN,e)),this.cards.push(new l.default(f.default.KING,e))},e.prototype.shuffle=function(){for(var e,t,a=this.cards.length;0!==a;)t=Math.floor(Math.random()*a),a-=1,e=this.cards[a],this.cards[a]=this.cards[t],this.cards[t]=e},e.prototype.isEmpty=function(){return 0===this.cards.length},e.prototype.dealCard=function(){this.isEmpty()&&(console.log("No cards left in the deck, reshuffling from discard pile."),this.moveCardsFromDiscardPile(),this.shuffle());var e=this.removeTopCard();return this.discardedCards.push(e),e},e.prototype.removeTopCard=function(){return this.cards.splice(0,1)[0]},e.prototype.moveCardsFromDiscardPile=function(){for(var e=0;e<this.discardedCards.length;e++){var t=this.discardedCards[e];this.discardedCards.splice(e,1),this.cards.push(t)}},e}();t.default=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=Object.freeze({NUMBER_OF_CARDS_TWO_PLAYER:7,CANVAS_WIDTH:600,CANVAS_HEIGHT:600,CARD_SIZE:60,RANK_FONT_FAMILY:"25px Arial",SUIT_FONT_FAMILY:"35px Arial",RANK_Y_OFFSET:35,SUIT_Y_OFFSET:10,RANK_X_OFFSET:5,SUIT_X_OFFSET:30,TURN_INTERVAL:200,CHIP_RADIUS:12});t.default=u},function(e,t,a){"use strict";var u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(a(0)),d=u(a(6)),f=u(a(2)),n=u(a(1));function r(e,t){var a=t.col-e.col,u=t.row-e.row;return Math.sqrt(a*a+u*u)}function o(e,t){for(var a=0;a<e.length;a++)for(var u=e[a],d=0;d<u.length;d++){var f=u[d];if(f instanceof l.default&&t.matches(f))return new n.default(a,d)}return null}t.default=function(e,t){for(var a=[],u=0;u<t.length;u++){var i=t[u],s=o(e,i);if(null==s)return new d.default(f.default.REPLACE_DEAD_CARD,i);a.push(s)}var c=function(e,t){var a=t[0],u=r(e,t[0]);return t.forEach(function(t){var l=r(e,t);l<u&&(a=t,u=l)}),a}(new n.default(5,5),a),E=e[c.row][c.col];if(!(E instanceof l.default))throw Error("no card at position: "+c.toString());return new d.default(f.default.PLACE_CHIP,E,c)}},function(e,t,a){"use strict";var u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(a(11)),d=u(a(9)),f=u(a(16)),n=u(a(17));new l.default("computer2",f.default,"Manual",n.default);window.Game=l.default,window.ManualUser=n.default,window.Computer=d.default},function(e,t,a){"use strict";var u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(a(12)),d=u(a(13)),f=u(a(7)),n=u(a(8)),r=u(a(0)),o=u(a(9)),i=u(a(5)),s=u(a(2)),c=u(a(14)),E=u(a(15)),h=function(){function e(e,t,a,u){if(void 0===a&&(a="2nd player"),void 0===u&&(u=o.default),null==t||"function"!=typeof t)throw Error("Must provide game algorithm function to play");this.canvas=this.createCanvas(),this.resultHeader=this.createResultHeading(),this.player1DisplayDiv=this.createPlayerCardsHolder("player1DisplayDiv"),this.player2DisplayDiv=this.createPlayerCardsHolder("player2DisplayDiv"),this.player1=new l.default(e,n.default.NUMBER_OF_CARDS_TWO_PLAYER,!1,c.default.GREEN),this.player2=new l.default(a,n.default.NUMBER_OF_CARDS_TWO_PLAYER,!0,c.default.RED),this.computer1=t,this.computer2=u,this.board=new d.default,this.deck=new f.default,this.start()}return e.prototype.start=function(){var e=this;this.deck.shuffle(),this.dealCards(this.player1),this.dealCards(this.player2),this.display(),this.gameInterval=setInterval(function(){e.playOneRound()},n.default.TURN_INTERVAL)},e.prototype.playOneRound=function(){try{if(this.nextPlayerMove(this.player1,this.computer1),this.display(),this.isGameOver(this.player1))return void this.markGameOver(this.player1.name+" wins!");if(this.nextPlayerMove(this.player2,this.computer2),this.display(),this.isGameOver(this.player2))return void this.markGameOver(this.player2.name+" wins!")}catch(e){console.log(e,this),this.markGameOver(e.message)}},e.prototype.nextPlayerMove=function(e,t,a){void 0===a&&(a=!1);var u=t(this.board.cloneSlots(),e.cloneCards());switch(this.validatePlayerHasCard(e,u.card),this.dealNewCardToPlayer(e,u.card),u.type){case s.default.PLACE_CHIP:if(null==u.position)throw Error("Invalid position to place chip");this.board.placeChip(new i.default(e.chipColor),u.card,u.position);break;case s.default.REPLACE_DEAD_CARD:if(this.validateDeadCard(e,u),a)return;return this.display(),void this.nextPlayerMove(e,t,!0);case s.default.REMOVE_CHIP:if(null==u.position)throw Error("Invalid position ["+u.position+"]");return this.validateRemoveChip(u,e),void this.board.removeChip(u.position);default:throw new Error("Invalid move type: "+u.type)}},e.prototype.validateRemoveChip=function(e,t){if(!e.card.isOneEyedJack())throw Error("Card is not oneEyedJack ["+e.card.toString()+"]");if(null==e.position)throw Error("Invalid position ["+e.position+"]");var a=this.board.slots[e.position.row][e.position.col];if(!(a instanceof i.default))throw Error("There is no chip at position: "+e.position.toString()+" "+a);if(a.color===t.chipColor)throw Error("Select chip of opponent player.");if(a instanceof i.default&&a.isInSequence())throw Error("Chip is already part of a sequence")},e.prototype.validateDeadCard=function(e,t){for(var a=0;a<this.board.slots.length;a+=1)for(var u=this.board.slots[a],l=0;l<u.length;l+=1){var d=u[l];if(d instanceof r.default&&t.card.matches(d))throw Error("Card is not dead: "+t.card.toString())}},e.prototype.validatePlayerHasCard=function(e,t){for(var a=0,u=e.cards;a<u.length;a++){if(u[a].matches(t))return}throw new Error("Card should belong to player's hand: "+t.toString)},e.prototype.display=function(){this.board.displayBoard(this.canvas),this.player1.display(this.player1DisplayDiv),this.player2.display(this.player2DisplayDiv)},e.prototype.isGameOver=function(e){return E.default.calculate(this.board,e.chipColor)},e.prototype.markGameOver=function(e){this.resultHeader.innerText=e,this.resultHeader.style.display="block",console.log(this),null!=this.gameInterval&&clearInterval(this.gameInterval),this.display()},e.prototype.dealCards=function(e){for(var t=0;t<n.default.NUMBER_OF_CARDS_TWO_PLAYER;t+=1)this.dealCardToPlayer(e)},e.prototype.dealCardToPlayer=function(e){var t=this.deck.dealCard();e.addCard(t)},e.prototype.dealNewCardToPlayer=function(e,t){e.discardCard(t),this.dealCardToPlayer(e)},e.prototype.createResultHeading=function(){var e=document.createElement("h1");return e.id="resultHeading",e.style.display="none",e.style.fontSize="50px",e.style.cssFloat="right",this.appendElementToBody(e),e},e.prototype.createPlayerCardsHolder=function(e){var t=document.createElement("div");return t.id=e,t.style.fontSize="18px",this.appendElementToBody(t),t},e.prototype.createCanvas=function(){var e=document.createElement("canvas");return e.width=n.default.CANVAS_WIDTH,e.height=n.default.CANVAS_HEIGHT,e.id="canvasId",this.appendElementToBody(e),e},e.prototype.appendElementToBody=function(e){document.getElementsByTagName("body")[0].appendChild(e)},e}();t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t,a,u){this.name=e,this.cards=[],this.maxCardsAllowed=t,this.isComputer=a,this.chipColor=u,this.sequenceCount=0}return e.prototype.addCard=function(e){if(this.cards.length===this.maxCardsAllowed)throw Error("A player cannot have more than "+this.maxCardsAllowed+" cards");this.cards.push(e)},e.prototype.discardCard=function(e){for(var t=0;t<this.cards.length;t++){if(this.cards[t].matches(e))return void this.cards.splice(t,1)}throw new Error("Player does not have this card: "+e.toString())},e.prototype.cloneCards=function(){var e=[];return this.cards.forEach(function(t){return e.push(t.clone())}),e},e.prototype.sequenceCompleted=function(){this.sequenceCount++},e.prototype.getSequenceCount=function(){return this.sequenceCount},e.prototype.display=function(e){var t=0;e.innerHTML='<span style="color: '+this.chipColor+'">'+this.name+"</span>: "+this.cards.map(function(e){return e.getDisplayHtml()+'<span style="font-size:10px;">('+t+++")</span>"}).join(", ")},e}();t.default=u},function(e,t,a){"use strict";var u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(a(0)),d=u(a(3)),f=u(a(4)),n=u(a(7)),r=u(a(5)),o=u(a(1)),i=u(a(8)),s=function(){function e(){this.slots=[[null,new l.default(d.default.TWO,f.default.SPADE),new l.default(d.default.THREE,f.default.SPADE),new l.default(d.default.FOUR,f.default.SPADE),new l.default(d.default.FIVE,f.default.SPADE),new l.default(d.default.SIX,f.default.SPADE),new l.default(d.default.SEVEN,f.default.SPADE),new l.default(d.default.EIGHT,f.default.SPADE),new l.default(d.default.NINE,f.default.SPADE),null],[new l.default(d.default.SIX,f.default.CLUB),new l.default(d.default.FIVE,f.default.CLUB),new l.default(d.default.FOUR,f.default.CLUB),new l.default(d.default.THREE,f.default.CLUB),new l.default(d.default.TWO,f.default.CLUB),new l.default(d.default.ACE,f.default.HEART),new l.default(d.default.KING,f.default.HEART),new l.default(d.default.QUEEN,f.default.HEART),new l.default(d.default.TEN,f.default.HEART),new l.default(d.default.TEN,f.default.SPADE)],[new l.default(d.default.SEVEN,f.default.CLUB),new l.default(d.default.ACE,f.default.SPADE),new l.default(d.default.TWO,f.default.DIAMOND),new l.default(d.default.THREE,f.default.DIAMOND),new l.default(d.default.FOUR,f.default.DIAMOND),new l.default(d.default.FIVE,f.default.DIAMOND),new l.default(d.default.SIX,f.default.DIAMOND),new l.default(d.default.SEVEN,f.default.DIAMOND),new l.default(d.default.NINE,f.default.HEART),new l.default(d.default.QUEEN,f.default.SPADE)],[new l.default(d.default.EIGHT,f.default.CLUB),new l.default(d.default.KING,f.default.SPADE),new l.default(d.default.SIX,f.default.CLUB),new l.default(d.default.FIVE,f.default.CLUB),new l.default(d.default.FOUR,f.default.CLUB),new l.default(d.default.THREE,f.default.CLUB),new l.default(d.default.TWO,f.default.CLUB),new l.default(d.default.EIGHT,f.default.DIAMOND),new l.default(d.default.EIGHT,f.default.HEART),new l.default(d.default.KING,f.default.SPADE)],[new l.default(d.default.NINE,f.default.CLUB),new l.default(d.default.QUEEN,f.default.SPADE),new l.default(d.default.SEVEN,f.default.CLUB),new l.default(d.default.SIX,f.default.HEART),new l.default(d.default.FIVE,f.default.HEART),new l.default(d.default.FOUR,f.default.HEART),new l.default(d.default.ACE,f.default.HEART),new l.default(d.default.NINE,f.default.DIAMOND),new l.default(d.default.SEVEN,f.default.HEART),new l.default(d.default.ACE,f.default.SPADE)],[new l.default(d.default.TEN,f.default.CLUB),new l.default(d.default.TEN,f.default.SPADE),new l.default(d.default.EIGHT,f.default.CLUB),new l.default(d.default.SEVEN,f.default.HEART),new l.default(d.default.TWO,f.default.HEART),new l.default(d.default.THREE,f.default.HEART),new l.default(d.default.KING,f.default.HEART),new l.default(d.default.TEN,f.default.DIAMOND),new l.default(d.default.SIX,f.default.HEART),new l.default(d.default.TWO,f.default.DIAMOND)],[new l.default(d.default.QUEEN,f.default.CLUB),new l.default(d.default.NINE,f.default.SPADE),new l.default(d.default.NINE,f.default.CLUB),new l.default(d.default.EIGHT,f.default.HEART),new l.default(d.default.NINE,f.default.HEART),new l.default(d.default.TEN,f.default.HEART),new l.default(d.default.QUEEN,f.default.HEART),new l.default(d.default.QUEEN,f.default.DIAMOND),new l.default(d.default.FIVE,f.default.HEART),new l.default(d.default.THREE,f.default.DIAMOND)],[new l.default(d.default.KING,f.default.CLUB),new l.default(d.default.EIGHT,f.default.SPADE),new l.default(d.default.TEN,f.default.CLUB),new l.default(d.default.QUEEN,f.default.CLUB),new l.default(d.default.KING,f.default.CLUB),new l.default(d.default.ACE,f.default.CLUB),new l.default(d.default.ACE,f.default.DIAMOND),new l.default(d.default.KING,f.default.DIAMOND),new l.default(d.default.FOUR,f.default.HEART),new l.default(d.default.FOUR,f.default.DIAMOND)],[new l.default(d.default.ACE,f.default.CLUB),new l.default(d.default.SEVEN,f.default.SPADE),new l.default(d.default.SIX,f.default.SPADE),new l.default(d.default.FIVE,f.default.SPADE),new l.default(d.default.FOUR,f.default.SPADE),new l.default(d.default.THREE,f.default.SPADE),new l.default(d.default.TWO,f.default.SPADE),new l.default(d.default.TWO,f.default.HEART),new l.default(d.default.THREE,f.default.HEART),new l.default(d.default.FIVE,f.default.DIAMOND)],[null,new l.default(d.default.ACE,f.default.DIAMOND),new l.default(d.default.KING,f.default.DIAMOND),new l.default(d.default.QUEEN,f.default.DIAMOND),new l.default(d.default.TEN,f.default.DIAMOND),new l.default(d.default.NINE,f.default.DIAMOND),new l.default(d.default.EIGHT,f.default.DIAMOND),new l.default(d.default.SEVEN,f.default.DIAMOND),new l.default(d.default.SIX,f.default.DIAMOND),null]]}return e.prototype.removeChip=function(e){if(!(this.slots[e.row][e.col]instanceof r.default))throw Error("There is no chip to be removed at position: "+e.toString());this.slots[e.row][e.col]=t.DEFAULT_BOARD_STATE[e.row][e.col]},e.prototype.placeChip=function(e,t,a){this.validateChipCanBePlaced(t,a),this.slots[a.row][a.col]=e},e.prototype.validateChipCanBePlaced=function(e,t){var a=t.row,u=t.col,d=this.slots[a][u];if(d instanceof r.default)throw Error("Chip already placed at position: "+t.toString());if(null===d)throw Error("Card cannot be placed at four corners");if(!(d instanceof l.default&&(e.isTwoEyedJack()||e.matches(d))))throw Error("Card at: "+a+", "+u+" in deck is: "+(null==d?"corner":d.toString())+", and player's card is "+e.toString())},e.prototype.verifyBoard=function(){for(var e=new n.default,t=0;t<this.slots.length;t+=1)for(var a=this.slots[t],u=0;u<a.length;u+=1){var d=a[u];if(null!=d)for(var f=0;f<e.cards.length;f++){var r=e.cards[f];if(d instanceof l.default&&r.suit===d.suit&&r.rank===d.rank){e.cards.splice(f,1);break}}}console.log(e)},e.prototype.displayBoard=function(e){var t=e.getContext("2d");if(null===t)throw Error("Unable to get CanvasRenderingContext2D");t.clearRect(0,0,e.width,e.height);for(var a=0;a<this.slots.length;a+=1)for(var u=this.slots[a],d=0;d<u.length;d+=1){var f=u[d],n=new o.default(a,d);if(null==f)this.drawCorner(t,n);else if(f instanceof r.default)this.drawChip(t,f,n);else{if(!(f instanceof l.default))throw Error("Invalid board element: "+f);this.drawCard(t,f,n)}}},e.prototype.drawCorner=function(e,t){this.drawBorderedRect(e,t,"#eee")},e.prototype.drawChip=function(e,a,u){var d=t.DEFAULT_BOARD_STATE[u.row][u.col];if(!(d instanceof l.default))throw Error("Card not found at position: "+u.toString());this.drawCard(e,d,u);var f=i.default.CARD_SIZE/2,n=u.row*i.default.CARD_SIZE+f,r=u.col*i.default.CARD_SIZE+f;a.isInSequence()&&(e.fillStyle="#000",e.beginPath(),e.arc(r,n,i.default.CHIP_RADIUS,0,2*Math.PI,!1),e.fill()),e.fillStyle=a.color,e.beginPath();var o=a.isInSequence()?i.default.CHIP_RADIUS/2:i.default.CHIP_RADIUS;e.arc(r,n,o,0,2*Math.PI,!1),e.fill()},e.prototype.drawCard=function(e,t,a){var u=a.col*i.default.CARD_SIZE,l=a.row*i.default.CARD_SIZE;e.fillStyle="#000",e.rect(u,l,i.default.CARD_SIZE,i.default.CARD_SIZE),e.stroke(),e.fillStyle="#000",e.font=i.default.RANK_FONT_FAMILY;var d=u+1+i.default.RANK_X_OFFSET,f=l+1+i.default.CARD_SIZE;e.fillText(""+t.rankDisplay(),d,f-i.default.RANK_Y_OFFSET),e.font="10px Arial",e.fillText("("+a.row+", "+a.col+")",d,f-i.default.RANK_Y_OFFSET+10),e.fillStyle=t.suitColor(),e.font=i.default.SUIT_FONT_FAMILY,e.fillText(""+t.suitDisplay(),d+i.default.SUIT_X_OFFSET,f-i.default.SUIT_Y_OFFSET)},e.prototype.drawBorderedRect=function(e,t,a){var u=t.row*i.default.CARD_SIZE,l=t.col*i.default.CARD_SIZE,d=i.default.CARD_SIZE;e.fillStyle="#000",e.fillRect(l,u,d,d),e.fillStyle=a,e.fillRect(l+1,u+1,d-2,d-2)},e.prototype.cloneSlots=function(){var e=[];return this.slots.map(function(t){e.push(t.map(function(e){return null===e?e:e.clone()}))}),e},e}();t.default=s,t.DEFAULT_BOARD_STATE=[[null,new l.default(d.default.TWO,f.default.SPADE),new l.default(d.default.THREE,f.default.SPADE),new l.default(d.default.FOUR,f.default.SPADE),new l.default(d.default.FIVE,f.default.SPADE),new l.default(d.default.SIX,f.default.SPADE),new l.default(d.default.SEVEN,f.default.SPADE),new l.default(d.default.EIGHT,f.default.SPADE),new l.default(d.default.NINE,f.default.SPADE),null],[new l.default(d.default.SIX,f.default.CLUB),new l.default(d.default.FIVE,f.default.CLUB),new l.default(d.default.FOUR,f.default.CLUB),new l.default(d.default.THREE,f.default.CLUB),new l.default(d.default.TWO,f.default.CLUB),new l.default(d.default.ACE,f.default.HEART),new l.default(d.default.KING,f.default.HEART),new l.default(d.default.QUEEN,f.default.HEART),new l.default(d.default.TEN,f.default.HEART),new l.default(d.default.TEN,f.default.SPADE)],[new l.default(d.default.SEVEN,f.default.CLUB),new l.default(d.default.ACE,f.default.SPADE),new l.default(d.default.TWO,f.default.DIAMOND),new l.default(d.default.THREE,f.default.DIAMOND),new l.default(d.default.FOUR,f.default.DIAMOND),new l.default(d.default.FIVE,f.default.DIAMOND),new l.default(d.default.SIX,f.default.DIAMOND),new l.default(d.default.SEVEN,f.default.DIAMOND),new l.default(d.default.NINE,f.default.HEART),new l.default(d.default.QUEEN,f.default.SPADE)],[new l.default(d.default.EIGHT,f.default.CLUB),new l.default(d.default.KING,f.default.SPADE),new l.default(d.default.SIX,f.default.CLUB),new l.default(d.default.FIVE,f.default.CLUB),new l.default(d.default.FOUR,f.default.CLUB),new l.default(d.default.THREE,f.default.CLUB),new l.default(d.default.TWO,f.default.CLUB),new l.default(d.default.EIGHT,f.default.DIAMOND),new l.default(d.default.EIGHT,f.default.HEART),new l.default(d.default.KING,f.default.SPADE)],[new l.default(d.default.NINE,f.default.CLUB),new l.default(d.default.QUEEN,f.default.SPADE),new l.default(d.default.SEVEN,f.default.CLUB),new l.default(d.default.SIX,f.default.HEART),new l.default(d.default.FIVE,f.default.HEART),new l.default(d.default.FOUR,f.default.HEART),new l.default(d.default.ACE,f.default.HEART),new l.default(d.default.NINE,f.default.DIAMOND),new l.default(d.default.SEVEN,f.default.HEART),new l.default(d.default.ACE,f.default.SPADE)],[new l.default(d.default.TEN,f.default.CLUB),new l.default(d.default.TEN,f.default.SPADE),new l.default(d.default.EIGHT,f.default.CLUB),new l.default(d.default.SEVEN,f.default.HEART),new l.default(d.default.TWO,f.default.HEART),new l.default(d.default.THREE,f.default.HEART),new l.default(d.default.KING,f.default.HEART),new l.default(d.default.TEN,f.default.DIAMOND),new l.default(d.default.SIX,f.default.HEART),new l.default(d.default.TWO,f.default.DIAMOND)],[new l.default(d.default.QUEEN,f.default.CLUB),new l.default(d.default.NINE,f.default.SPADE),new l.default(d.default.NINE,f.default.CLUB),new l.default(d.default.EIGHT,f.default.HEART),new l.default(d.default.NINE,f.default.HEART),new l.default(d.default.TEN,f.default.HEART),new l.default(d.default.QUEEN,f.default.HEART),new l.default(d.default.QUEEN,f.default.DIAMOND),new l.default(d.default.FIVE,f.default.HEART),new l.default(d.default.THREE,f.default.DIAMOND)],[new l.default(d.default.KING,f.default.CLUB),new l.default(d.default.EIGHT,f.default.SPADE),new l.default(d.default.TEN,f.default.CLUB),new l.default(d.default.QUEEN,f.default.CLUB),new l.default(d.default.KING,f.default.CLUB),new l.default(d.default.ACE,f.default.CLUB),new l.default(d.default.ACE,f.default.DIAMOND),new l.default(d.default.KING,f.default.DIAMOND),new l.default(d.default.FOUR,f.default.HEART),new l.default(d.default.FOUR,f.default.DIAMOND)],[new l.default(d.default.ACE,f.default.CLUB),new l.default(d.default.SEVEN,f.default.SPADE),new l.default(d.default.SIX,f.default.SPADE),new l.default(d.default.FIVE,f.default.SPADE),new l.default(d.default.FOUR,f.default.SPADE),new l.default(d.default.THREE,f.default.SPADE),new l.default(d.default.TWO,f.default.SPADE),new l.default(d.default.TWO,f.default.HEART),new l.default(d.default.THREE,f.default.HEART),new l.default(d.default.FIVE,f.default.DIAMOND)],[null,new l.default(d.default.ACE,f.default.DIAMOND),new l.default(d.default.KING,f.default.DIAMOND),new l.default(d.default.QUEEN,f.default.DIAMOND),new l.default(d.default.TEN,f.default.DIAMOND),new l.default(d.default.NINE,f.default.DIAMOND),new l.default(d.default.EIGHT,f.default.DIAMOND),new l.default(d.default.SEVEN,f.default.DIAMOND),new l.default(d.default.SIX,f.default.DIAMOND),null]]},function(e,t,a){"use strict";var u;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.RED="#3700B3",e.GREEN="#C51162"}(u||(u={})),t.default=u},function(e,t,a){"use strict";var u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(a(5)),d=function(){function e(){}return e.calculate=function(t,a){for(var u=0,l=function(l){var d=t.slots[l],f=e.hasSequence(t,d,a);f.hasSequence()&&(f.markChipsInSequence(),u++);var n=t.slots.map(function(e){return e[l]}),r=e.hasSequence(t,n,a);r.hasSequence()&&(r.markChipsInSequence(),u++)},d=0;d<10;d++)l(d);for(var f=0,n=0,r=0;r<10;r++){var o=[];f=0,n=r;for(var i=0;i<10;i++)f<=9&&n<=9&&(o.push(t.slots[f][n]),f++,n++);(s=e.hasSequence(t,o,a)).hasSequence()&&(s.markChipsInSequence(),u++)}for(r=1;r<10;r++){o=[];f=r,n=0;for(i=0;i<10;i++)f<=9&&n<=9&&(o.push(t.slots[f][n]),f++,n++);(s=e.hasSequence(t,o,a)).hasSequence()&&(s.markChipsInSequence(),u++)}for(r=9;r>0;r--){o=[];n=r,f=0;for(i=9;i>0;i--)f<=9&&n>=0&&(o.push(t.slots[f][n]),f++,n--);(s=e.hasSequence(t,o,a)).hasSequence()&&(s.markChipsInSequence(),u++)}for(r=1;r<10;r++){var s;o=[];n=9,f=r;for(i=1;i<9;i++)f<=9&&n>=0&&(o.push(t.slots[f][n]),f++,n--);(s=e.hasSequence(t,o,a)).hasSequence()&&(s.markChipsInSequence(),u++)}return u>1},e.hasSequence=function(e,t,a){for(var u=new f,d=0;d<t.length;d++){var n=t[d];if(null===n||n instanceof l.default&&n.color===a?null!=n?u.addChip(n):u.addCorner():u.resetSequence(),u.hasSequence())break}return u},e}();t.default=d;var f=function(){function e(){this.sequenceChips=[],this.gameOver=!1,this.sequenceCount=0}return e.prototype.resetSequence=function(){this.sequenceChips=[],this.sequenceCount=0},e.prototype.addCorner=function(){this.sequenceCount++},e.prototype.addChip=function(e){this.sequenceChips.push(e),this.sequenceCount++},e.prototype.markChipsInSequence=function(){this.sequenceChips.forEach(function(e){return e.markInSequence()})},e.prototype.hasSequence=function(){return this.sequenceCount>4},e}()},function(e,t,a){"use strict";var u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(a(0)),d=u(a(6)),f=u(a(2)),n=u(a(1));function r(e,t){for(var a=0;a<e.length;a++)for(var u=e[a],d=0;d<u.length;d++){var f=u[d];if(f instanceof l.default&&t.matches(f))return new n.default(a,d)}return null}t.default=function(e,t){for(var a=0;a<t.length;a++){var u=t[a],l=r(e,u);if(null!=l)return new d.default(f.default.PLACE_CHIP,u,l)}throw new Error("All player cards are dead cards")}},function(e,t,a){"use strict";var u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(a(0)),d=u(a(6)),f=u(a(2)),n=u(a(1));function r(e,t){for(var a=0;a<e.length;a++)for(var u=e[a],d=0;d<u.length;d++){var f=u[d];if(f instanceof l.default&&t.matches(f))return new n.default(a,d)}return null}t.default=function(e,t){var a=t.map(function(e){return e.toString()}).join(","),u=prompt("computer2: \n    p = place chip, r = remove chip, d = dead card \r\n"+a);if(!u)return function(e,t){for(var a=0;a<t.length;a++){var u=t[a],l=r(e,u);if(null!=l)return new d.default(f.default.PLACE_CHIP,u,l)}throw new Error("All player cards are dead cards")}(e,t);var l=u.substr(0,1),o=Number(u.substr(1,1)),i=Number(u.substr(2,1)),s=Number(u.substr(3,1));console.log("type: "+l+", index: "+o+", row: "+i+", col: "+s);var c=t[o];switch(l){case"p":return new d.default(f.default.PLACE_CHIP,c,new n.default(i,s));case"r":return new d.default(f.default.REMOVE_CHIP,c,new n.default(i,s));case"d":return new d.default(f.default.REPLACE_DEAD_CARD,c);default:throw new Error("Invalid move")}}}]);